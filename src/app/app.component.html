<ion-app>
  
  <ion-menu side="start">
    <ion-content>
      <ion-grid class="menu-container ion-no-padding ion-no-margin" [class.lightMode]="!theme.darkMode">

        <ion-row class="scan-container" (click)="openScanner()">
          <ion-col size="3.5" class="app-logo">
            <ion-avatar [ngStyle]="{ 'background': scanner.active ? scanner.color : none }">
              <ion-img [src]="scanner.iconDir"></ion-img>
            </ion-avatar>
          </ion-col>
          <ion-col size="8.5" class="app-title">
            <ion-label [ngStyle]="{ 'font-weight': scanner.active ? 700 : none }">{{ scanner.name.toUpperCase() }}</ion-label>  
          </ion-col>
        </ion-row>

        <ion-grid class="fav-container">
          <ion-row>
            <ion-col offset="3.5" size="8.5" class="app-title">
              <ion-label>FAVORITES</ion-label>  
            </ion-col>
          </ion-row>
          <ion-slides #slider [options]="slideOpts">
            <ion-slide *ngFor="let app of appManager.getFavorites()">
              <ion-avatar (click)="openApp(app.id)">
                <img [src]="appManager.sanitize(app.icons[0].src)">
              </ion-avatar>
            </ion-slide>
          </ion-slides>
        </ion-grid>

        <ion-menu-toggle>
          <div class="apps-container">

            <ion-row *ngFor="let section of sections" (click)="openSection(section)">
              <ion-col size="3.5" class="app-logo">
                <ion-avatar [ngStyle]="{ 'background': section.active ? section.color : none }">
                  <ion-img [src]="section.iconDir"></ion-img>
                </ion-avatar>
              </ion-col>
              <ion-col size="8.5" class="app-title">
                <ion-label [ngStyle]="{ 'font-weight': section.active ? 700 : none }">{{ section.name.toUpperCase() }}</ion-label>  
              </ion-col>
            </ion-row>

            <!-- For Test Purposes -->
       <!--      <ion-row (click)="resetBrowser()">
              <ion-col size="3.5" class="app-logo">
                <ion-avatar>
                  <ion-icon mode="ios" name="refresh"></ion-icon>
                </ion-avatar>
              </ion-col>
              <ion-col size="8.5" class="app-title">
                <ion-label>RESET BROWSER</ion-label>  
              </ion-col>
            </ion-row> -->

          </div>
        </ion-menu-toggle>

        <ion-row>
          <ion-col size="3.5" class="app-logo">
            <ion-toggle color="light" (click)="toggleDarkMode()"></ion-toggle>
          </ion-col>
          <ion-col size="8.5" class="app-title">
            <ion-label *ngIf="!theme.darkMode">DARK MODE</ion-label>  
            <ion-label *ngIf="theme.darkMode">LIGHT MODE</ion-label>  
          </ion-col>
        </ion-row>
      
      </ion-grid>
    </ion-content>
  </ion-menu>

  <ion-router-outlet main></ion-router-outlet>

</ion-app>
