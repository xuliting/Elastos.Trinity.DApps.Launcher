<ion-content class="ion-no-margin ion-no-padding">

  <ion-segment color="light" [class.darkMode]="theme.darkMode"> 
    <ion-segment-button [class.activeTab]="!favAppsActive" value="!favAppsActive" (click)="favAppsActive = false">
      <ion-img src="/assets/icon/component-155-1.svg"></ion-img>
      <ion-label>Recent</ion-label>
    </ion-segment-button>
    <ion-segment-button [class.activeTab]="favAppsActive" value="favAppsActive" (click)="favAppsActive = true">
      <ion-img src="/assets/icon/bookmark-icon.svg"></ion-img>
      <ion-label>Favorites</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- Browsed Apps -->
  <div *ngIf="!favAppsActive && appManager.browsedApps.length > 0" class="ion-margin-top apps-container" [class.lightMode]="!theme.darkMode">
    <ion-item lines="none" *ngFor="let app of appManager.browsedApps">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="2.5" size-lg="2.5" class="img-container" (click)="openApp(app.id)">
            <img [src]="appManager.sanitize(app.icons[0].src)"/>
          </ion-col>
          <ion-col size="8" size-xs="8" class="dapp-content" (click)="openApp(app.id)">
            <ion-label>
              <h2>{{ app.name }}</h2>
              <p>{{ app.description.slice(0,70) }}...</p>
            </ion-label>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="removeFav(app, 'recent')" *ngIf="app.isFav">
            <ion-icon name="bookmark"></ion-icon>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="favApp(app, 'recent')" *ngIf="!app.isFav">
            <ion-img src="assets/icon/bookmark-outline.svg"></ion-img>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>

  <!-- Favorite Apps -->
  <div *ngIf="favAppsActive && appManager.getFavorites().length > 0" class="ion-margin-top apps-container" [class.lightMode]="!theme.darkMode">
    <ion-item *ngFor="let app of appManager.getFavorites()" lines="none">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="2.5" size-lg="2.5" class="img-container" (click)="openApp(app.id)">
            <img [src]="appManager.sanitize(app.icons[0].src)"/>
          </ion-col>
          <ion-col size="8" size-xs="8" class="dapp-content" (click)="openApp(app.id)">
            <ion-label>
              <h2>{{ app.name }}</h2>
              <p>{{ app.description.slice(0,70) }}...</p>
            </ion-label>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="removeFav(app, 'favorites')">
            <ion-icon name="bookmark"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>

  <!-- No Apps -->
  <div *ngIf="favAppsActive && appManager.getFavorites().length === 0 || !favAppsActive && appManager.browsedApps.length === 0" class="no-apps-container">
    <div class="no-apps-header">
      <div class="no-apps-head"></div>
    </div>
    <div class="ion-padding-top no-apps-msg" color="primary">
      <h1>No applications yet?</h1>
      <p>
        You can start by finding elastOS <br>
        dApps on any of your favorite <br>
        websites that hold our dApp addresses
      </p>
      <p>
        You can also check your contacts list to see <br>
        what dApps your friends are using
      </p>
      <p>
        The more you explore the Elastos ecosystem, <br>
        the more dApps you will find
      </p>
    </div>
  </div>
  
</ion-content>
