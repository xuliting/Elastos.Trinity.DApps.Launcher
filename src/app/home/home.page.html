<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" class="header-btns">
      <ion-menu-toggle>
        <ion-img class="ion-padding-start" src="/assets/icon/menu-icon-white.png"></ion-img>
      </ion-menu-toggle>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-no-margin ion-no-padding">

  <ion-segment color="light"> 
    <ion-segment-button value="favAppsActive" (click)="favAppsActive = true">
      <!-- <ion-img src="/assets/icon/bookmark-icon.svg"></ion-img> -->
      <ion-icon name="bookmark"></ion-icon>
      <ion-label>Favorites</ion-label>
    </ion-segment-button>
    <ion-segment-button value="!favAppsActive" (click)="favAppsActive = false">
      <ion-icon mode="ios" name="hourglass"></ion-icon>
      <ion-label>Recent</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="favAppsActive" class="ion-margin-top">
    <ion-item *ngFor="let app of getFavorites()" lines="none">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="2.5" size-lg="2.5" class="img-container" (click)="findApp(app.id)">
            <img [src]="appManagerService.sanitize(app.icons[0].src)"/>
          </ion-col>
          <ion-col size="8" size-xs="8" class="dapp-content" (click)="findApp(app.id)">
            <ion-label>
              <h2>{{ app.name }}</h2>
              <p>{{ app.description.slice(0,70) }}...</p>
            </ion-label>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="removeFav(app, 'favorites')">
            <ion-icon name="bookmark"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>

  <div *ngIf="!favAppsActive" class="ion-margin-top">
    <ion-item lines="none" *ngFor="let app of appManagerService.browsedApps">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="2.5" size-lg="2.5" class="img-container" (click)="findApp(app.id)">
          <img [src]="appManagerService.sanitize(app.icons[0].src)"/>
          </ion-col>
          <ion-col size="8" size-xs="8" class="dapp-content" (click)="findApp(app.id)">
            <ion-label>
              <h2>{{ app.name }}</h2>
              <p>{{ app.description.slice(0,70) }}...</p>
            </ion-label>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="removeFav(app, 'recent')" *ngIf="app.isFav">
            <ion-icon name="bookmark"></ion-icon>
          </ion-col>
          <ion-col size="1.5" class="icon-container" (click)="favApp(app, 'recent')" *ngIf="!app.isFav">
            <ion-img src="assets/icon/bookmark-outline.svg"></ion-img>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>
  
</ion-content>
